{% extends 'core/base.html' %}
{% load static %}

{% block title %}Blog | Dear&Co{% endblock %}

{% block content %}
<section class="blog-hero">
    <div class="container">
        <h1>The Growth Playbook</h1>
        <p>Insights, strategies, and stories from the forefront of digital innovation.</p>
    </div>
</section>

<section class="blog-main">
    <div class="container">
        {% if featured_posts %}
        <div class="featured-spotlight">
            {% with featured_posts.0 as post %}
            <a href="{{ post.get_absolute_url }}" class="featured-card">
                <img src="{{ post.header_image.url }}" alt="{{ post.title }}">
                <div class="overlay-content">
                    <span class="tag">Featured</span>
                    <h2>{{ post.title }}</h2>
                    <p>{{ post.subtitle }}</p>
                </div>
            </a>
            {% endwith %}
        </div>
        {% endif %}
        
        <div class="tag-filters">
            <button class="tag-filter active" data-tag="all">All</button>
            {% for tag in all_tags %}
            <button class="tag-filter" data-tag="{{ tag.name|slugify }}">{{ tag.name }}</button>
            {% endfor %}
        </div>
        
        <div class="blog-grid">
            {% for post in non_featured_posts %}
            <div class="blog-card-wrapper animate-on-scroll" data-tags="{% for tag in post.tags.all %}{{ tag.name|slugify }},{% endfor %}">
                 <a href="{{ post.get_absolute_url }}" class="blog-card">
                    <img src="{{ post.header_image.url }}" alt="{{ post.title }}" class="card-img">
                    <div class="card-content">
                        <h4>{{ post.title }}</h4>
                        <p>{{ post.subtitle }}</p>
                        <div class="author-info">
                            <img src="{{ post.author.profile.image.url }}" alt="{{ post.author.get_full_name }}">
                            <span>{{ post.author.get_full_name }} &bull; {{ post.published_date|date:"M d, Y" }}</span>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}